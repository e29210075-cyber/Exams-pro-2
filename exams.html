<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <title>Exams Pro - Ø§Ù„Ø£Ø³Ø·ÙˆØ±Ø© Ø¥Ø¨Ø±Ø§Ù‡ÙŠÙ…</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #1b5e20;
            --gold: #ffd700;
            --red: #d81b60;
            --bg: linear-gradient(135deg, #1b5e20 0%, #43a047 100%);
        }

        body {
            margin: 0; font-family: 'Cairo', sans-serif;
            background: var(--bg); background-attachment: fixed;
            min-height: 100vh; display: flex; flex-direction: column; align-items: center; color: #333;
        }

        .header { text-align: center; color: white; padding: 30px; }
        .container {
            background: rgba(255, 255, 255, 0.95); padding: 25px; border-radius: 25px;
            width: 90%; max-width: 600px; box-shadow: 0 15px 35px rgba(0,0,0,0.3); margin-bottom: 30px;
        }

        .stats { background: #000; color: var(--gold); padding: 10px 20px; border-radius: 50px; font-weight: 900; margin: 10px; border: 2px solid var(--gold); }

        .btn-main {
            background: var(--primary); color: white; border: none; padding: 18px; width: 100%;
            border-radius: 15px; font-size: 1.3em; font-weight: bold; cursor: pointer; transition: 0.3s;
        }
        .btn-main:hover { transform: scale(1.02); background: #0c3d0e; }

        .option {
            background: #f8f9fa; padding: 15px; margin: 10px 0; border-radius: 12px;
            border: 2px solid #eee; cursor: pointer; transition: 0.2s; font-weight: 600;
        }
        .option:hover { border-color: var(--primary); background: #e8f5e9; }

        .report-item { background: #fff; border-right: 5px solid var(--red); padding: 15px; margin: 10px 0; border-radius: 10px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        .lesson-tip { color: #1565c0; font-size: 0.9em; margin-top: 5px; font-weight: bold; }

        .hidden { display: none !important; }

        .cert-card {
            border: 10px double #b8860b; padding: 30px; text-align: center; background: #fff;
            background-image: radial-gradient(circle, #fff9c4 1px, transparent 1px); background-size: 20px 20px;
        }
    </style>
</head>
<body>

    <div class="header">
        <h1>Exams Pro ğŸ†</h1>
        <p>Ù…Ù†ØµØ© Ø§Ù„Ø£Ø³Ø·ÙˆØ±Ø© Ø¥Ø¨Ø±Ø§Ù‡ÙŠÙ… - Ø§Ù„Ø´Ù‡Ø§Ø¯Ø© Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯ÙŠØ©</p>
    </div>

    <div class="stats">Ø§Ù„Ø¬ÙˆØ§Ù‡Ø±: <span id="gems-count">0</span> ğŸ’</div>

    <!-- ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ -->
    <div id="screen-reg" class="container">
        <h3 style="text-align:center">Ø³Ø¬Ù„ Ø¯Ø®ÙˆÙ„Ùƒ ÙŠØ§ Ø¨Ø·Ù„</h3>
        <input type="text" id="u-name" placeholder="Ø§Ø³Ù…Ùƒ Ø§Ù„ÙƒØ§Ù…Ù„" style="width:100%; padding:15px; margin-bottom:15px; border-radius:10px; border:1px solid #ddd;">
        
        <label>Ø§Ø®ØªØ± Ø§Ù„Ù…Ø§Ø¯Ø© Ù„ØªØ®ØªØ¨Ø± Ø°ÙƒØ§Ø¡Ùƒ:</label>
        <select id="u-subject" style="width:100%; padding:15px; margin:15px 0; border-radius:10px;">
            <option value="social">Ø§Ù„Ø¯Ø±Ø§Ø³Ø§Øª Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ© (Ø§Ù„Ù…Ù†Ù‡Ø¬ ÙƒØ§Ù…Ù„Ø§Ù‹)</option>
            <option value="science">Ø§Ù„Ø¹Ù„ÙˆÙ…</option>
            <option value="arabic">Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</option>
        </select>
        
        <button class="btn-main" onclick="startQuiz()">Ø§Ø¨Ø¯Ø£ Ø±Ø­Ù„Ø© Ø§Ù„ØªÙÙˆÙ‚</button>
    </div>

    <!-- Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± -->
    <div id="screen-quiz" class="container hidden">
        <div id="q-info" style="color:#666; font-size:0.9em; margin-bottom:10px;"></div>
        <h2 id="q-text" style="color:var(--primary)"></h2>
        <div id="opt-list"></div>
    </div>

    <!-- Ø§Ù„Ù†ØªÙŠØ¬Ø© ÙˆØ§Ù„ØªÙ‚Ø±ÙŠØ± -->
    <div id="screen-result" class="container hidden">
        <div id="result-summary" style="text-align:center"></div>
        
        <div id="cert-area" class="hidden">
            <div class="cert-card">
                <h2 style="color:#5d4037">Ø´Ù‡Ø§Ø¯Ø© ØªÙ‚Ø¯ÙŠØ±</h2>
                <p>ÙŠØªÙ‚Ø¯Ù… ØªØ·Ø¨ÙŠÙ‚ Exams Pro Ø¨ÙƒÙ„ ÙØ®Ø± Ø¨ØªÙƒØ±ÙŠÙ…</p>
                <h1 id="cert-name" style="color:var(--primary)"></h1>
                <p>Ù„ØªÙÙˆÙ‚Ù‡ ÙÙŠ Ø§Ø®ØªØ¨Ø§Ø± Ù…Ø§Ø¯Ø© <b id="cert-sub"></b></p>
                <p style="font-size:1.5em; color:var(--red)">Ø§Ù„Ø£Ø³Ø·ÙˆØ±Ø© Ø¥Ø¨Ø±Ø§Ù‡ÙŠÙ…</p>
            </div>
        </div>

        <div id="report-area" style="margin-top:25px;">
            <h3 style="color:var(--red)">ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø£Ø¯Ø§Ø¡ ÙˆØ§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©:</h3>
            <div id="report-list"></div>
        </div>

        <button class="btn-main" onclick="location.reload()" style="margin-top:20px;">Ø§Ø®ØªØ¨Ø§Ø± Ø¬Ø¯ÙŠØ¯</button>
    </div>

    <script>
        const DATA = {
            "social": [
                {q: "Ø£ØµØ¨Ø­Øª Ù…ØµØ± ÙˆÙ„Ø§ÙŠØ© Ø¹Ø«Ù…Ø§Ù†ÙŠØ© Ø¹Ø§Ù… 1517 Ø¨Ø¹Ø¯ Ù…Ø¹Ø±ÙƒØ©:", a: ["Ù…Ø±Ø¬ Ø¯Ø§Ø¨Ù‚", "Ø§Ù„Ø±ÙŠØ¯Ø§Ù†ÙŠØ©", "Ø£Ø¨ÙŠ Ù‚ÙŠØ± Ø§Ù„Ø¨Ø±ÙŠØ©"], c: 1, lesson: "Ù…ØµØ± ØªØ­Øª Ø§Ù„Ø­ÙƒÙ… Ø§Ù„Ø¹Ø«Ù…Ø§Ù†ÙŠ"},
                {q: "Ù‚Ø§Ø¯ Ø«ÙˆØ±Ø© Ø§Ù„Ù‚Ø§Ù‡Ø±Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ© Ø¶Ø¯ Ø§Ù„ÙØ±Ù†Ø³ÙŠÙŠÙ† Ù…Ù† Ø­ÙŠ Ø¨ÙˆÙ„Ø§Ù‚:", a: ["Ù…Ø­Ù…Ø¯ ÙƒØ±ÙŠÙ…", "Ø¹Ù…Ø± Ù…ÙƒØ±Ù…", "ÙƒÙ„ÙŠØ¨Ø±"], c: 1, lesson: "Ø§Ù„Ø­Ù…Ù„Ø© Ø§Ù„ÙØ±Ù†Ø³ÙŠØ© Ø¹Ù„Ù‰ Ù…ØµØ±"},
                {q: "Ù‚Ø§Ù… Ù…Ø­Ù…Ø¯ Ø¹Ù„ÙŠ Ø¨Ù†ÙÙŠ Ø¹Ù…Ø± Ù…ÙƒØ±Ù… Ø¹Ø§Ù… 1809 Ø¥Ù„Ù‰ Ù…Ø¯ÙŠÙ†Ø©:", a: ["Ø§Ù„Ø³ÙˆÙŠØ³", "Ø¯Ù…ÙŠØ§Ø·", "Ø±Ø´ÙŠØ¯"], c: 1, lesson: "Ù…Ø­Ù…Ø¯ Ø¹Ù„ÙŠ ÙˆØ¨Ù†Ø§Ø¡ Ø§Ù„Ø¯ÙˆÙ„Ø© Ø§Ù„Ø­Ø¯ÙŠØ«Ø©"},
                {q: "Ø¨Ø¯Ø£Øª Ø§Ù„Ø«ÙˆØ±Ø© Ø§Ù„Ø¹Ø±Ø§Ø¨ÙŠØ© Ø¨Ù…Ø¸Ø§Ù‡Ø±Ø© Ø¹Ø§Ø¨Ø¯ÙŠÙ† ÙÙŠ Ø³Ø¨ØªÙ…Ø¨Ø± Ø¹Ø§Ù…:", a: ["1881", "1882", "1879"], c: 0, lesson: "Ø§Ù„Ø«ÙˆØ±Ø© Ø§Ù„Ø¹Ø±Ø§Ø¨ÙŠØ©"},
                {q: "Ù†ÙÙÙŠ Ø³Ø¹Ø¯ Ø²ØºÙ„ÙˆÙ„ Ù„Ù„Ù…Ø±Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ© Ø¥Ù„Ù‰ Ø¬Ø²ÙŠØ±Ø©:", a: ["Ù…Ø§Ù„Ø·Ø§", "Ø³ÙŠØ´Ù„", "Ù‚Ø¨Ø±Øµ"], c: 1, lesson: "Ù†ÙÙŠ Ø³Ø¹Ø¯ Ø²ØºÙ„ÙˆÙ„ ÙˆØ«ÙˆØ±Ø© 1919"},
                {q: "Ø¥Ù‚Ù„ÙŠÙ… Ù…Ù†Ø§Ø®ÙŠ ÙŠØªÙ…ÙŠØ² Ø¨Ø§Ù„Ø­Ø±Ø§Ø±Ø© ÙˆØ§Ù„Ù…Ø·Ø± Ø·ÙˆØ§Ù„ Ø§Ù„Ø¹Ø§Ù…:", a: ["Ø§Ù„Ø¨Ø­Ø± Ø§Ù„Ù…ØªÙˆØ³Ø·", "Ø§Ù„Ø§Ø³ØªÙˆØ§Ø¦ÙŠ", "Ø§Ù„Ù…Ø¯Ø§Ø±ÙŠ"], c: 1, lesson: "Ø§Ù„Ø£Ù‚Ø§Ù„ÙŠÙ… Ø§Ù„Ù…Ù†Ø§Ø®ÙŠØ©"},
                {q: "Ø£Ø¹Ù„Ù‰ Ù‚Ù…Ø© Ø¬Ø¨Ù„ÙŠØ© ÙÙŠ Ø§Ù„Ø¹Ø§Ù„Ù… Ù‡ÙŠ Ù‚Ù…Ø©:", a: ["Ø¥ÙŠÙØ±Ø³Øª", "ÙƒÙŠÙ†ÙŠØ§", "Ø£Ø·Ù„Ø³"], c: 0, lesson: "Ø§Ù„ØªØ¶Ø§Ø±ÙŠØ³"},
                {q: "Ù…Ù† Ø®ØµØ§Ø¦Øµ Ø³ÙƒØ§Ù† Ø§Ù„Ø¯ÙˆÙ„ Ø§Ù„Ù†Ø§Ù…ÙŠØ©:", a: ["Ø§Ù†Ø®ÙØ§Ø¶ Ø§Ù„Ù…ÙˆØ§Ù„ÙŠØ¯", "Ø§Ø±ØªÙØ§Ø¹ Ù†Ø³Ø¨Ø© Ø§Ù„Ø£Ù…ÙŠØ©", "Ø§Ø±ØªÙØ§Ø¹ Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ù…Ø¹ÙŠØ´Ø©"], c: 1, lesson: "Ø®ØµØ§Ø¦Øµ Ø§Ù„Ø³ÙƒØ§Ù†"}
            ],
            "science": [
                {q: "ÙˆØ­Ø¯Ø© Ù‚ÙŠØ§Ø³ Ø§Ù„Ø³Ø±Ø¹Ø© Ù‡ÙŠ:", a: ["Ù…/Ø«", "Ù†ÙŠÙˆØªÙ†", "Ù…/Ø«Â²"], c: 0, lesson: "Ø§Ù„Ø³Ø±Ø¹Ø© ÙˆØ§Ù„Ø­Ø±ÙƒØ©"},
                {q: "ØªØ¹ØªÙ…Ø¯ Ù†Ø¸Ø±ÙŠØ© Ø§Ù„Ø³Ø¯ÙŠÙ… ÙÙŠ ØªÙØ³ÙŠØ± Ù†Ø´Ø£Ø© Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø© Ø§Ù„Ø´Ù…Ø³ÙŠØ© Ø¹Ù„Ù‰ Ø§Ù„Ø¹Ø§Ù„Ù…:", a: ["Ù„Ø§Ø¨Ù„Ø§Ø³", "Ù†ÙŠÙˆØªÙ†", "Ø£ÙŠÙ†Ø´ØªØ§ÙŠÙ†"], c: 0, lesson: "Ø§Ù„ÙƒÙˆÙ†"}
            ]
        };

        let currentQ = []; let qIdx = 0; let score = 0; let mistakes = [];
        let gems = parseInt(localStorage.getItem('ib_gems')) || 0;
        document.getElementById('gems-count').innerText = gems;

        function startQuiz() {
            const name = document.getElementById('u-name').value;
            const sub = document.getElementById('u-subject').value;
            if(!name) return alert("Ù…Ù† ÙØ¶Ù„Ùƒ Ø§ÙƒØªØ¨ Ø§Ø³Ù…Ùƒ ÙŠØ§ Ø£Ø³Ø·ÙˆØ±Ø©!");

            currentQ = DATA[sub].sort(() => 0.5 - Math.random());
            qIdx = 0; score = 0; mistakes = [];
            document.getElementById('screen-reg').classList.add('hidden');
            document.getElementById('screen-quiz').classList.remove('hidden');
            renderQ();
        }

        function renderQ() {
            const d = currentQ[qIdx];
            document.getElementById('q-info').innerText = `Ø³Ø¤Ø§Ù„ ${qIdx+1} Ù…Ù† ${currentQ.length}`;
            document.getElementById('q-text').innerText = d.q;
            const list = document.getElementById('opt-list');
            list.innerHTML = "";
            d.a.forEach((opt, i) => {
                const b = document.createElement('div');
                b.className = "option";
                b.innerText = opt;
                b.onclick = () => {
                    if(i === d.c) score++;
                    else mistakes.push({q: d.q, mine: opt, right: d.a[d.c], lesson: d.lesson});
                    qIdx++;
                    if(qIdx < currentQ.length) renderQ();
                    else finish();
                };
                list.appendChild(b);
            });
        }

        function finish() {
            document.getElementById('screen-quiz').classList.add('hidden');
            document.getElementById('screen-result').classList.remove('hidden');
            const per = Math.round((score/currentQ.length)*100);
            
            document.getElementById('result-summary').innerHTML = `<h2>Ø¯Ø±Ø¬ØªÙƒ: ${per}%</h2><p>Ø£Ø¬Ø¨Øª Ø¹Ù„Ù‰ ${score} ØµØ­ Ù…Ù† ${currentQ.length}</p>`;

            if(per >= 70) {
                gems += 50;
                localStorage.setItem('ib_gems', gems);
                document.getElementById('gems-count').innerText = gems;
                document.getElementById('cert-area').classList.remove('hidden');
                document.getElementById('cert-name').innerText = document.getElementById('u-name').value;
                document.getElementById('cert-sub').innerText = document.getElementById('u-subject').options[document.getElementById('u-subject').selectedIndex].text;
            }

            const rList = document.getElementById('report-list');
            rList.innerHTML = mistakes.length === 0 ? "<p style='color:green'>Ù…Ù…ØªØ§Ø²! Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£Ø®Ø·Ø§Ø¡.</p>" : "";
            mistakes.forEach(m => {
                const item = document.createElement('div');
                item.className = "report-item";
                item.innerHTML = `<b>Ø§Ù„Ø³Ø¤Ø§Ù„:</b> ${m.q}<br><span style="color:red">Ø¥Ø¬Ø§Ø¨ØªÙƒ: ${m.mine}</span> | <span style="color:green">Ø§Ù„ØµØ­: ${m.right}</span><div class="lesson-tip">ğŸ’¡ Ù†ØµÙŠØ­Ø© Ø§Ù„Ø£Ø³Ø·ÙˆØ±Ø©: Ø±Ø§Ø¬Ø¹ Ø¯Ø±Ø³ "${m.lesson}"</div>`;
                rList.appendChild(item);
            });
        }
    </script>
</body>
</html>

